<!DOCTYPE HTML>
<html>

<head>
 
  <meta charset="utf-8">
</head>

<body>

  <script>


  var request = new XMLHttpRequest();
  request.open('GET', 'http://localhost:3000/json/light', true);

  request.onreadystatechange = function() {
      if (request.readyState == 4) {
        if(request.status == 200) {
          var response = JSON.parse(this.responseText);
          var from = [];
          var to = [];

          var memory = [[]];
          var temper;

          response.forEach(function(each) {

            temper = temper + ' ' + each.from + ' ' + each.to;
            console.log(temper);

          });

          var len;


          memory[0] = [response.from, response.to];
            response.forEach (function(singleJson) {           
              memory.forEach(function loop(singleStack, i, stack) { 

                if (singleJson.to == singleStack[0]) {                  
                  singleStack.unshift(singleJson.from);
                  return;

                } else
                if (singleJson.from == singleStack[singleStack.length]) {
                  singleStack.push(singleJson.to);
                  return;
                } else {
                    var tmp = [singleJson.from, singleJson.to];
                    stack.push(tmp);
                    return;
                }
              }); 
            });
            console.log(memory[0]);
            console.log(memory[1]);
            console.log(memory[2]);
            console.log(memory[3]);
            console.log(memory[4]);
            console.log(memory[5]);
            console.log(memory[6]);
            console.log(memory[7]);
            console.log(memory[8]);

           };
      };
  };

  request.send(null);

    </script>

</body>
</html>